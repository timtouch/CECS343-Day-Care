<!--This page allows user to edit student information-->

<nav-bar></nav-bar>
<div class="edit-student col-md-4 inner-container">
  <form class="form-horizontal" name="editStudent" ng-submit="editStudent.$valid && updateStudent()">
    <div class="form-group">

      <!--Student Name-->
      <label for="student">Student</label>
      <input type="text" class="form-control" placeholder="First Name" ng-model="student.firstName" required/>
      <input type="text" class="form-control" placeholder="Last Name" ng-model="student.lastName" required/>
      <input type="text" name="studentPhoneNumber" class="form-control"  placeholder="Phone Number" ng-pattern="/^\d{10}$/" ng-minlength="10" ng-maxlength="10" ng-model="student.phone" required/>
      <div class="validationMessage" ng-messages="editStudent.studentPhoneNumber.$error">
        <div ng-message="required">This field is required</div>
        <div ng-message="pattern">Must be a valid 10 digit phone number</div>
      </div>

      <!--Medical Information-->
      <label for="medicalInfo">Medical Information</label>

      <div ng-repeat='foodAllergy in student.medicalInfo.foodAllergies track by $index'>
        <input type="text" class="form-control" placeholder="Food Allergy" ng-model="student.medicalInfo.foodAllergies[$index]"/>
      </div>
      <button type='button' class='addField' ng-click="addOption(student.medicalInfo.foodAllergies)">+</button>
      <button type='button' class='removeField' ng-click="removeOption(student.medicalInfo.foodAllergies)">-</button>

      <div ng-repeat='medicalAllergy in student.medicalInfo.medicalAllergies track by $index'>
        <input type="text" class="form-control" placeholder="Medical Allergy" ng-model="student.medicalInfo.medicalAllergies[$index]"/>
      </div>
      <button type='button' class='addField' ng-click="addOption(student.medicalInfo.medicalAllergies)">+</button>
      <button type='button' class='removeField' ng-click="removeOption(student.medicalInfo.medicalAllergies)">-</button>

      <input type="text" class="form-control" placeholder="Medical Needs" ng-model="student.medicalInfo.medicalNeeds"/>

      <!--Medical Administration Permission-->
      <label for="medicalAdminPermission">Medical Administration Permission</label>
      <input type="checkbox" class="checkbox" ng-model="student.medicalInfo.medicalAdminPermission" required/>

      <!--Emergency Contact-->
      <label for="emergencyContact">Emergency Contact</label>
      <input type="text" class="form-control" placeholder="First Name" ng-model="student.emergencyContact.emFirstName" required/>
      <input type="text" class="form-control" placeholder="Last Name" ng-model="student.emergencyContact.emLastName" required/>
      <input type="text" name="emPhoneNumber" class="form-control"  placeholder="Phone Number" ng-pattern="/^\d{10}$/" ng-minlength="10" ng-maxlength="10" ng-model="student.emergencyContact.emPhone" required/>
      <div class="validationMessage" ng-messages="editStudent.emPhoneNumber.$error">
        <div ng-message="required">This field is required</div>
        <div ng-message="pattern">Must be a valid 10 digit phone number</div>
      </div>
      <input type="text" class="form-control" placeholder="Relationship" ng-model="student.emergencyContact.relationship" required/>

      <!--Guardians-->
      <label for="guardians">Guardians</label>
      <div ng-repeat="guardian in student.guardians track by $index">
        Guardian {{$index + 1}}
        <input type="text" class="form-control" placeholder="First Name" ng-model="guardian.firstName" required/>
        <input type="text" class="form-control" placeholder="Last Name" ng-model="guardian.lastName" required/>
        <input type="text" class="form-control" placeholder="Relationship" ng-model="guardian.relationship" required/>
        <input type="text" class="form-control" placeholder="Codeword" ng-model="guardian.codeword" required/>
      </div>
      <button type="submit" class="btn btn-primary" value="Submit">Save</button>
  </form>
</div>
