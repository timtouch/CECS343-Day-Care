<!--This page allows for new students to be added to the system-->

<nav-bar></nav-bar>
<div class="new-student col-md-4 inner-container">
  <form class="form-horizontal" name="createNewStudent" ng-submit="createNewStudent.$valid && addStudent()">
    <div class="form-group">
      <!--Student Name-->
      <label for="student">Student</label>
      <input type="text" class="form-control" placeholder="First Name" ng-model="firstName" required/>
      <input type="text" class="form-control" placeholder="Last Name" ng-model="lastName" required/>
      <input type="text" name="studentPhoneNumber" class="form-control"  placeholder="Phone Number" ng-pattern="/^\d{10}$/" ng-minlength="10" ng-maxlength="10" ng-model="phoneNumber" required/>
      <div class="validationMessage" ng-messages="createNewStudent.studentPhoneNumber.$error">
        <div ng-message="pattern">Must be a valid 10 digit phone number</div>
      </div>

      <!--Medical Information-->
      <label for="medicalInfo">Medical Information</label>
      <!--Consider a mechanism to automatically increase field as they are filled-->
      <div ng-repeat='foodAllergy in foodAllergies track by $index'>
        <input type="text" class="form-control" placeholder="Food Allergy" ng-model="foodAllergies[$index]"/>
      </div>
      <button type='button' class='addField' ng-click="addOption(foodAllergies)">+</button>
      <button type='button' class='removeField' ng-click="removeOption(foodAllergies)">-</button>

      <div ng-repeat='medicalAllergy in medicalAllergies track by $index'>
        <input type="text" class="form-control" placeholder="Medical Allergy" ng-model="medicalAllergies[$index]"/>
      </div>
      <button type='button' class='addField' ng-click="addOption(medicalAllergies)">+</button>
      <button type='button' class='removeField' ng-click="removeOption(medicalAllergies)">-</button>

      <input type="text" class="form-control" placeholder="Medical Needs" ng-model="medicalNeeds"/>

      <!--Medical Administration Permission-->
      <label for="medicalAdminPermission">Medical Administration Permission</label>
      <input type="checkbox" class="checkbox" ng-model="medicalAdminPermission" required/>

      <!--Emergency Contact-->
      <label for="emergencyContact">Emergency Contact</label>
      <input type="text" class="form-control" placeholder="First Name" ng-model="emFirstName" required/>
      <input type="text" class="form-control" placeholder="Last Name" ng-model="emLastName" required/>
      <input type="text" name="emPhoneNumber" class="form-control"  placeholder="Phone Number" ng-pattern="/^\d{10}$/" ng-minlength="10" ng-maxlength="10" ng-model="emPhone" required/>
      <div class="validationMessage" ng-messages="createNewStudent.emPhoneNumber.$error">
        <div ng-message="pattern">Must be a valid 10 digit phone number</div>
      </div>
      <input type="text" class="form-control" placeholder="Relationship" ng-model="emRelationship" required/>

      <!--Guardians-->
      <label for="guardians">Guardians</label>
      <div ng-repeat="guardian in guardians track by $index">
        Guardian {{$index + 1}}
        <input type="text" class="form-control" placeholder="First Name" ng-model="guardian.firstName" required/>
        <input type="text" class="form-control" placeholder="Last Name" ng-model="guardian.lastName" required/>
        <input type="text" class="form-control" placeholder="Relationship" ng-model="guardian.relationship" required/>
        <input type="text" class="form-control" placeholder="Codeword" ng-model="guardian.codeword" required/>
      </div>

      <button type="submit" class="btn btn-primary" value="Submit">Add Student</button>
  </form>
</div>
